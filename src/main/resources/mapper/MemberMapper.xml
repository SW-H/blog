<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTDMapper3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.seungwon.blog.infra.MemberRepository">

    <select id="findAll" resultType="com.seungwon.blog.domain.entity.Member">
        SELECT id,nickName,email,password,createdAt,updatedAt
        FROM member
        WHERE status='NORMAL'
        ORDER BY updatedAt
    </select>

    <select id="findByEmail" parameterType="String" resultType="com.seungwon.blog.domain.entity.Member">
        SELECT id,nickName,email,password,createdAt,updatedAt
        FROM member
        WHERE email=#{email} AND status='NORMAL'
        ORDER BY updatedAt
    </select>

    <select id="findByNickName" parameterType="String" resultType="com.seungwon.blog.domain.entity.Member">
        SELECT id,nickName,email,password,createdAt,updatedAt
        FROM member
        WHERE nickName=#{nickName} AND status='NORMAL'
        ORDER BY updatedAt
    </select>
</mapper>
